<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
	</head>
	<body>
		<input type="button" id="btn"/>
		
		<script>
			
			
			console.log(localStorage);
			
		    var name='zfzf';
			var info='{"age":24,"job":"FEFE"}';
			set(name,info);
			
			
			var btn=document.getElementById("btn");
			btn.onclick=function(){
				console.log(get(name,1000*60));
				
			}
			
			
			function set(key,value){
				var curTime=new Date().getTime();
				localStorage.setItem(key,JSON.stringify({data:value,time:curTime}));
			}
			
			function get(key,period){
				var obj=JSON.parse(localStorage.getItem(key));
				
				if(new Date().getTime()-obj.time>period){
					alert('已超时');
				}else{
//					console.log(obj.data);
					return JSON.parse(obj.data);
				}
			}
		</script>
	</body>
</html>
